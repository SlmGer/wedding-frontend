<section class="admin-rsvp">
  <h2>R√©ponses RSVP</h2>

  @if (!(rsvps.length > 0)){
    <p>Aucune r√©ponse pour le moment</p>
  }

  <div class="stats">
    <div>üë• Total : {{ rsvps.length }}</div>
    <div>‚úÖ Pr√©sents : {{ comingCount }}</div>
    <div>‚ùå Absents : {{ rsvps.length - comingCount }}</div>
  </div>

  @if (rsvps.length > 0) {
    <table class="rsvp-table">
      <thead>
      <tr>
        <th>Invit√©</th>
        <th>Pr√©sence</th>
        <th>Lieux</th>
        <th>Enfants</th>
        <th>Pr√©f√©rences alimentaires</th>
        <th>Transport</th>
        <th>Remarque</th>
        <th></th>
      </tr>
      </thead>

      <tbody>
        @for (r of rsvps; track r.id){
          <tr>
            <td>{{ r.guestName }}</td>
            <td>
              <span [class.yes]="r.present === true"
                      [class.no]="r.present === false">
                {{ r.present ? 'Oui' : 'Non' }}
              </span>
            </td>
            <td>
              @if (r.mairie){
                <span>Mairie</span><br/>
              }
              @if (r.eglise){
                <span>√âglise</span><br/>
              }
              @if (r.reception){
                <span>R√©ception</span>
              }
            </td>
            <td>{{ r.enfants }}</td>
            <td>
              @if (r.vegetarien){
                <span>V√©g√©tarien</span><br/>
              }
              @if (r.halal){
                <span>Halal</span><br/>
              }
              @if (r.casher){
                <span>Casher</span><br/>
              }
            </td>
            <td>
              {{ r.vehicule ? 'V√©hicule' : '' }}
              {{ r.covoiturage ? 'Covoiturage' : '' }}
            </td>

            <td class="note">{{ r.remarque || '-' }}</td>

            <td>
              <button class="danger" (click)="remove(r.id!)">
                Supprimer
              </button>
            </td>
          </tr>
        }

      </tbody>
    </table>
  }
</section>
