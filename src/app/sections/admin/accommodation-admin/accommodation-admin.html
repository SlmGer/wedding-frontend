@if (message) {
<div class="toast"
     [ngClass]="{
         'success': messageType === 'success',
         'error': messageType === 'error'
       }">
  {{ message }}
</div>
}

<section class="admin-header">
  <h2>Gestion des h√©bergements</h2>

  <button class="primary" (click)="openCreate()">
    ‚ûï Ajouter un h√©bergement
  </button>
</section>
@if(!isFormVisible){
<section class="grid">

  @for (acc of accommodations; track acc.id) {
  <div class="card">
    @if(acc.imageUrl){
    <img src="{{acc.imageUrl}}" alt="{{acc.name}}" />
    }@else{
    <img src="assets/hebergement.jpg" alt="{{acc.name}}" />
    }
    <div class="card-content">
      <h3>{{ acc.name }}</h3>
      <p>{{ acc.type }} ‚Äì {{ acc.distance }}</p>
      <p class="address">{{ acc.address }}</p>
    </div>

    <div class="actions">
      <a href="{{acc.googleMapsUrl}}" target="_blank">üìç Carte</a>

      <button (click)="openEdit(acc)">‚úèÔ∏è Modifier</button>
      <button class="danger" (click)="remove(acc.id!)">üóë Supprimer</button>
    </div>

  </div>
  }
</section>
}
@if(isFormVisible){
<section class="form-container">

  <h3>
    {{ isEditMode ? 'Modifier un h√©bergement' : 'Ajouter un h√©bergement' }}
  </h3>

  <form (ngSubmit)="submit()" class="form">

    <input type="text"
           placeholder="Nom de l'h√©bergement"
           [(ngModel)]="model.name"
           name="name" required />

    <select [(ngModel)]="model.type" name="type" required>
      <option value="" disabled>Type</option>
      <option>H√¥tel</option>
      <option>Airbnb</option>
      <option>G√Æte</option>
      <option>Chambre d‚Äôh√¥tes</option>
    </select>

    <input type="text"
           placeholder="Adresse"
           [(ngModel)]="model.address"
           name="address" required />

    <input type="text"
           placeholder="Distance"
           [(ngModel)]="model.distance"
           name="distance" />

    <input type="url"
           placeholder="Google Maps"
           [(ngModel)]="model.googleMapsUrl"
           name="googleMapsUrl" required />

    <input type="url"
           placeholder="Lien r√©servation"
           [(ngModel)]="model.bookingUrl"
           name="bookingUrl" />

    <input type="url"
           placeholder="Image"
           [(ngModel)]="model.imageUrl"
           name="imageUrl" />

    <label>
      <input type="checkbox"
             [(ngModel)]="model.active"
             name="active" />
      Visible sur le site
    </label>

    <div class="form-actions">
      <button type="submit" class="primary">
        {{ isEditMode ? 'Mettre √† jour' : 'Cr√©er' }}
      </button>

      <button type="button" (click)="cancel()">Annuler</button>
    </div>

  </form>

</section>
}
<!--<section class="admin-accommodation">

  <h2>H√©bergements √† proximit√©</h2>

   FORM
  <form (ngSubmit)="submit()" class="form">
    <input type="text" placeholder="Nom de l‚Äôh√©bergement" [(ngModel)]="model.name" name="name" required>
    <select [(ngModel)]="model.type" name="type" required>
      <option value="" disabled selected>Type d'h√©bergement</option>
      <option>H√¥tel</option>
      <option>Airbnb</option>
      <option>G√Æte</option>
      <option>Chambre d‚Äôh√¥tes</option>
    </select>
    <input type="text" placeholder="Adresse" [(ngModel)]="model.address" name="address" required />
    <input type="text" placeholder="Distance depuis la salle (ex: 5 min en voiture)"
      [(ngModel)]="model.distance" name="distance" />
    <input
      type="url" placeholder="Lien Google Maps"
      [(ngModel)]="model.googleMapsUrl"
      name="googleMapsUrl" required />

    <input
      type="url" placeholder="Lien de r√©servation (optionnel)"
      [(ngModel)]="model.bookingUrl" name="bookingUrl" />

    <input
      type="url" placeholder="URL de l‚Äôimage"
      [(ngModel)]="model.imageUrl" name="imageUrl" />

    <label class="checkbox">
      <input
        type="checkbox"
        [(ngModel)]="model.active" name="active" />
      Visible sur le site
    </label>

    <button type="submit">
      {{ model.id ? 'Mettre √† jour' : 'Ajouter' }}
    </button>
  </form>
-->
  <!-- LIST
  <div class="grid">
    @for (acc of accommodations; track acc.id){
      <div class="card">
        @if(acc.imageUrl){
        <img src="{{acc.imageUrl}}" alt="{{acc.name}}" />
        }@else{
        <img src="assets/hebergement.jpg" alt="{{acc.name}}" />
        }
        <h3>{{ acc.name }}</h3>
        <p>{{ acc.address }} ‚Äì {{ acc.distance }}</p>

        <div class="actions">
          <a href="{{acc.googleMapsUrl}}" target="_blank">Voir sur la carte</a>
          <button class="danger" (click)="remove(acc.id!)">Supprimer</button>
        </div>
      </div>
    }
  </div>

</section>-->
